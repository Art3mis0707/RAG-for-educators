{"ast":null,"code":"var _jsxFileName = \"/Users/gayatrikrishnakumar/Documents/Interdepartmental EL/client/src/components/UploadDoc.js\";\n// /client/src/components/UploadDoc.js\nimport React, { useState } from 'react';\nimport './UploadDoc.css';\nfunction UploadDoc() {\n  const [file, setFile] = useState(null);\n  const [result, setResult] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const handleFileChange = e => {\n    const selectedFile = e.target.files[0];\n    console.log(\"Selected file:\", selectedFile);\n    setFile(selectedFile);\n  };\n  const handleUpload = async () => {\n    if (!file) {\n      setMessage(\"Please select a file first.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"docfile\", file);\n    try {\n      const response = await fetch(\"http://localhost:5004/api/upload-document\", {\n        method: \"POST\",\n        body: formData\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setResult(data.result);\n        setMessage(\"File processed successfully!\");\n        setShowModal(true);\n      } else {\n        setMessage(data.message || \"Error processing file.\");\n      }\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      setMessage(\"Error uploading file.\");\n    }\n  };\n  const handleBoxClick = () => {\n    document.getElementById('fileInput').click();\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-box\",\n    onClick: handleBoxClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"\\uD83D\\uDCE4\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"upload-instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Drag & drop your .docx file here, or click to select a file.\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"fileInput\",\n    type: \"file\",\n    accept: \".docx\",\n    onChange: handleFileChange,\n    className: \"file-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleUpload,\n    className: \"upload-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Upload and Process\"), message && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"upload-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, message), showModal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"close-button\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Extracted Data\"), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, result))));\n}\nexport default UploadDoc;","map":{"version":3,"names":["React","useState","UploadDoc","file","setFile","result","setResult","message","setMessage","showModal","setShowModal","handleFileChange","e","selectedFile","target","files","console","log","handleUpload","formData","FormData","append","response","fetch","method","body","data","json","ok","error","handleBoxClick","document","getElementById","click","closeModal","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","type","accept","onChange"],"sources":["/Users/gayatrikrishnakumar/Documents/Interdepartmental EL/client/src/components/UploadDoc.js"],"sourcesContent":["// /client/src/components/UploadDoc.js\nimport React, { useState } from 'react';\nimport './UploadDoc.css';\n\nfunction UploadDoc() {\n  const [file, setFile] = useState(null);\n  const [result, setResult] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    console.log(\"Selected file:\", selectedFile);\n    setFile(selectedFile);\n  };\n\n  const handleUpload = async () => {\n    if (!file) {\n      setMessage(\"Please select a file first.\");\n      return;\n    }\n    \n    const formData = new FormData();\n    formData.append(\"docfile\", file);\n    \n    try {\n      const response = await fetch(\"http://localhost:5004/api/upload-document\", {\n        method: \"POST\",\n        body: formData\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setResult(data.result);\n        setMessage(\"File processed successfully!\");\n        setShowModal(true);\n      } else {\n        setMessage(data.message || \"Error processing file.\");\n      }\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      setMessage(\"Error uploading file.\");\n    }\n  };\n\n  const handleBoxClick = () => {\n    document.getElementById('fileInput').click();\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <div className=\"upload-container\">\n      <div className=\"upload-box\" onClick={handleBoxClick}>\n        <div className=\"upload-icon\">ðŸ“¤</div>\n        <p className=\"upload-instructions\">\n          Drag & drop your .docx file here, or click to select a file.\n        </p>\n        <input \n          id=\"fileInput\"\n          type=\"file\" \n          accept=\".docx\" \n          onChange={handleFileChange} \n          className=\"file-input\"\n        />\n      </div>\n      <button onClick={handleUpload} className=\"upload-button\">Upload and Process</button>\n      {message && <p className=\"upload-message\">{message}</p>}\n      \n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <button className=\"close-button\" onClick={closeModal}>X</button>\n            <h3>Extracted Data</h3>\n            <pre>{result}</pre>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default UploadDoc;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}